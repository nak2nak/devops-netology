## 1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?
## Ответ.
    nak2nak@ubntu:~$ ls /sys/class/net
    enp0s3  lo

    nak2nak@ubntu:~$ ifconfig
    enp0s3: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
    inet 192.168.1.53  netmask 255.255.255.0  broadcast 192.168.1.255
    inet6 fe80::a00:27ff:feeb:a266  prefixlen 64  scopeid 0x20<link>
    ether 08:00:27:eb:a2:66  txqueuelen 1000  (Ethernet)
    RX packets 3016  bytes 756463 (756.4 KB)
    RX errors 0  dropped 0  overruns 0  frame 0
    TX packets 2476  bytes 293468 (293.4 KB)
    TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

    nak2nak@ubntu:~$ ip link show
    1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
        link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP mode DEFAULT group default qlen 1000
        link/ether 08:00:27:eb:a2:66 brd ff:ff:ff:ff:ff:ff

    nak2nak@ubntu:~$ netstat -i
    Kernel Interface table
    Iface      MTU    RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg
    enp0s3    1500     7166      0      0 0          4011      0      0      0 BMRU
    lo       65536      427      0      0 0           427      0      0      0 LRU

    nak2nak@ubntu:~$ nmcli device status
    DEVICE  TYPE      STATE      CONNECTION 
    enp0s3  ethernet  unmanaged  --         
    lo      loopback  unmanaged  --   

### windows
    C:\Users\admin>ipconfig
    Адаптер беспроводной локальной сети Беспроводная сеть:

       DNS-суффикс подключения . . . . . :
       IPv4-адрес. . . . . . . . . . . . : 192.168.1.64
       Маска подсети . . . . . . . . . . : 255.255.255.0
       Основной шлюз. . . . . . . . . : 192.168.1.1

    C:\Users\admin>netsh interface ip show interface
    
    Инд     Мет         MTU          Состояние               Имя
    ---  ----------  ----------  ------------  ---------------------------
      1          75  4294967295  connected     Loopback Pseudo-Interface 1
     15          50        1500  connected     Беспроводная сеть
     14          25        1500  connected     Ethernet
     13          25        1500  disconnected  Подключение по локальной сети* 1
      6          25        1500  disconnected  Подключение по локальной сети* 10
     10          25        1500  connected     Ethernet 2
    
    
    C:\Users\admin>getmac
    
    Физический адрес    Имя транспорта
    =================== ==========================================================
    00-E9-3A-CD-47-C1   \Device\Tcpip_{B0636778-18A8-4788-A469-EDA726625128}
    0A-00-27-00-00-0E   \Device\Tcpip_{9E705861-815C-4781-87C8-5D39AF9C684F}
    Отключенная         Соединение прервано
    Отключенная         Соединение прервано
    0A-00-27-00-00-0A   \Device\Tcpip_{5953DCE9-41BF-4D44-A597-6C64B6B09F88}
## 2.Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?
## Ответ.
Протокол обнаружения канального уровня LLDP (Link Layer Discovery Protocol)

Используется пакет lldpd


## 3.Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.
## Ответ.
Используется техноглогия VLAN (Virtual Local Area Network) IEEE 802.1Q

    nak2nak@ubntu:~$/sbin/vconfig add eth0 5 
    nak2nak@ubntu:~$/sbin/ifconfig vlan5 up
## 4.Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.
## Ответ.
Типы агрегации интерфейсов в Linux:

Mode-0(balance-rr) – Данный режим используется по умолчанию. Balance-rr обеспечивается балансировку нагрузки и отказоустойчивость. В данном режиме сетевые пакеты отправляются “по кругу”, от первого интерфейса к последнему. Если выходят из строя интерфейсы, пакеты отправляются на остальные оставшиеся. Дополнительной настройки коммутатора не требуется при нахождении портов в одном коммутаторе. При разностных коммутаторах требуется дополнительная настройка.


Mode-1(active-backup) – Один из интерфейсов работает в активном режиме, остальные в ожидающем. При обнаружении проблемы на активном интерфейсе производится переключение на ожидающий интерфейс. Не требуется поддержки от коммутатора.


Mode-2(balance-xor) – Передача пакетов распределяется по типу входящего и исходящего трафика по формуле ((MAC src) XOR (MAC dest)) % число интерфейсов. Режим дает балансировку нагрузки и отказоустойчивость. Не требуется дополнительной настройки коммутатора/коммутаторов.


Mode-3(broadcast) – Происходит передача во все объединенные интерфейсы, тем самым обеспечивая отказоустойчивость. Рекомендуется только для использования MULTICAST трафика.


Mode-4(802.3ad) – динамическое объединение одинаковых портов. В данном режиме можно значительно увеличить пропускную способность входящего так и исходящего трафика. Для данного режима необходима поддержка и настройка коммутатора/коммутаторов.


Mode-5(balance-tlb) – Адаптивная балансировки нагрузки трафика. Входящий трафик получается только активным интерфейсом, исходящий распределяется в зависимости от текущей загрузки канала каждого интерфейса. Не требуется специальной поддержки и настройки коммутатора/коммутаторов.


Mode-6(balance-alb) – Адаптивная балансировка нагрузки. Отличается более совершенным алгоритмом балансировки нагрузки чем Mode-5). Обеспечивается балансировку нагрузки как исходящего так и входящего трафика. Не требуется специальной поддержки и настройки коммутатора/коммутаторов.


Пример конфига:
    $ sudo nano /etc/network/interfaces
    # The primary network interface
    auto bond0
    iface bond0 inet static
        address 192.168.1.150
        netmask 255.255.255.0    
        gateway 192.168.1.1
        dns-nameservers 192.168.1.1 8.8.8.8
        dns-search domain.local
            slaves eth0 eth1
            bond_mode 0
            bond-miimon 100
            bond_downdelay 200
            bound_updelay 200

## 5.Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.
## Ответ.
В сети с маской 29 есть 6 ip-адресов
![net2](https://github.com/nak2nak/devops-netology/blob/main/img/3-6-006.png)
из сети с маской /24 получить 32шт /29 подсетей
![net2](https://github.com/nak2nak/devops-netology/blob/main/img/3-7-008.png)

## 6.Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.
## Ответ.
    nak2nak@ubntu:~$ ipcalc 100.64.0.0/26
    Address:   100.64.0.0           01100100.01000000.00000000.00 000000
    Netmask:   255.255.255.192 = 26 11111111.11111111.11111111.11 000000
    Wildcard:  0.0.0.63             00000000.00000000.00000000.00 111111
    =>
    Network:   100.64.0.0/26        01100100.01000000.00000000.00 000000
    HostMin:   100.64.0.1           01100100.01000000.00000000.00 000001
    HostMax:   100.64.0.62          01100100.01000000.00000000.00 111110
    Broadcast: 100.64.0.63          01100100.01000000.00000000.00 111111
    Hosts/Net: 62                    Class A


## 7.Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?
## Ответ.
Linux

    nak2nak@ubntu:~$ arp -e
    Address                  HWtype  HWaddress           Flags Mask            Iface
    192.168.1.64             ether   00:e9:3a:cd:47:c1   C                     enp0s3
    _gateway                 ether   e4:8d:8c:52:59:f5   C                     enp0s3

 удаления ip из arp-таблицы

    ip neigh del {IP} dev {DEVICE}

Очистка arp-таблицы

    ip neigh flush all

Windows

    C:\Users\admin>arp -a
    
    Интерфейс: 192.168.56.1 --- 0xa
      адрес в Интернете      Физический адрес      Тип
      192.168.56.3          08-00-27-e5-f2-bf     динамический
      192.168.56.255        ff-ff-ff-ff-ff-ff     статический
      224.0.0.22            01-00-5e-00-00-16     статический
      224.0.0.251           01-00-5e-00-00-fb     статический
      224.0.0.252           01-00-5e-00-00-fc     статический
      239.255.255.250       01-00-5e-7f-ff-fa     статический
    
    Интерфейс: 169.254.69.15 --- 0xe
      адрес в Интернете      Физический адрес      Тип
      169.254.255.255       ff-ff-ff-ff-ff-ff     статический
      224.0.0.22            01-00-5e-00-00-16     статический
      224.0.0.251           01-00-5e-00-00-fb     статический
      224.0.0.252           01-00-5e-00-00-fc     статический
      239.255.255.250       01-00-5e-7f-ff-fa     статический
      255.255.255.255       ff-ff-ff-ff-ff-ff     статический
    
    Интерфейс: 192.168.1.64 --- 0xf
      адрес в Интернете      Физический адрес      Тип
      192.168.1.1           e4-8d-8c-52-59-f5     динамический
      192.168.1.12          9a-8d-dd-7e-99-e4     динамический
      192.168.1.30          00-7c-2d-d0-1c-ca     динамический
      192.168.1.53          08-00-27-eb-a2-66     динамический
      192.168.1.255         ff-ff-ff-ff-ff-ff     статический
      224.0.0.22            01-00-5e-00-00-16     статический
      224.0.0.251           01-00-5e-00-00-fb     статический
      224.0.0.252           01-00-5e-00-00-fc     статический
      239.255.255.250       01-00-5e-7f-ff-fa     статический
      255.255.255.255       ff-ff-ff-ff-ff-ff     статический

Пример удаления ip

    arp -d 192.168.1.12

очистка всего arp-кэша

    arp -d
